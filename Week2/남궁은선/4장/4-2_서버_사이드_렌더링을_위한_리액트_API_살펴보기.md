# 4.2 서버 사이드 렌더링을 위한 리액트 API 살펴보기
- 서버사이드 렌더링을 위한 리액트 API는 react-dom/server.js를 확인하면 된다. 
- 여기에는 react-dom이 서버에서 렌더링하기 위한 다양한 메서드를 제공한다. 
- server.node.js에 있는 함수를 export하고 있고, 어떤 역할을 하는지 살펴보자. 
- 리액트 18이 릴리즈 되면서 react-dom/server에 renderToPipableStream이 추가되었고, 나머지는 대부분 지원 중단되는 등 큰 변화가 생겼다. 

> Q. 리액트 18 전후에 서버사이드 관련 어떤 변화가 있었을까
> Q. 리액트 19에는 서버사이드 관련 어떤 변화가 있었을까?

##  renderToString
- 인수로 넘겨받은 리액트 컴포넌트를 렌더링해 HTML 문자열로 반환하는 함수
- 최초의 페이지를 HTML로 먼저 렌더링하는 함수

![alt text](image-1.png)

- useEffect와 같은 훅과 handleClick과 같은 이벤트 핸들러는 결과물에 포함되지 않았다. 
- 인수로 주어진 리액트 컴포넌트를 기준으로 빠르게 브라우저가 렌더링할 수 있는 HTML을 제공하는 데에 목적이 있기 때문
- 클라이언트에서 필요한 자바스크립트는 생성된 HTML과 별도로 브라우저에 제공되어 다운로드, 파싱, 실행하는 과정을 거쳐야한다. 
- div#root에 존재하는 속성 `data-reactroot`은 리액트 컴포넌트의 루트 엘리먼트가 무엇인지 식별하고, 자바스크립트를 실행하기 위한 hydrate 함수에서 루트를 식별하는 기준점이 된다. 

## 4.2.2  renderToStaticMarkup
- renderToString과 매우 유사한 함수
- 두 함수 모두 리액트 컴포넌트를 기준으로 HTML문자열을 만든다는 점에서 동일.
- 차이 :renderToStaticMarkup은 앞서 루트 요소에 추가한 data-reactroot와 같은 리액트에서만 사용하는 추가적인 DOM 속성을 만들지 않는다는 점. 
- hydrate를 수행하지 않는다는 가정하에 순수한 HTML만 반환
- 결과적으로 hydrate를 수행하도 클라이언트에서 완전히 새롭게 렌더링하게 된다. 
- 아무런 브라우저 액션이 없는 정적인 내용만 필요한 경우 유용. 
- 

